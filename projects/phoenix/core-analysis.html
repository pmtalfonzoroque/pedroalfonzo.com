<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Phoenix – Python Interpretation Engine</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/assets/style.css">
</head>

<body>
<div class="page">

  <!-- Header -->
  <header>
    <div class="nav-container">
      <div class="brand">PEDRO ALFONZO — Engineering • Geoscience • Analytics</div>
      <nav>
        <a href="/">Home</a>
        <a href="/geoscience/">Geoscience</a>
        <a href="/portfolio/">Portfolio</a>
        <a href="/automation/">Automation</a>
        <a href="/farm/">Farm</a>
        <a href="/projects/">Project Demos</a>
      </nav>
    </div>
  </header>

  <main>
    <div class="content">

      <h1>Automated Core Interpretation – Results</h1>

        <div class="info-box">
            <button class="info-toggle" onclick="toggleInfoBox()">About These Hydrogeological Units ▼</button>
            <div id="infoContent" class="info-content">
                <p>
                The images used in this interactive tool correspond to the <strong>hydrogeological units</strong> 
                defined in the Phoenix deposit (Wheeler River). These units represent distinct sandstone, clay-altered, 
                redox, and basement domains that influence fluid flow, alteration patterns, and uranium mineralization.
                </p>
                <p>
                Each unit exhibits characteristic visual and textural features that can be quantified through 
                image-based analysis, forming the basis for automated interpretation workflows.
                </p>
            </div>
        </div>

<script>


<div class="demo-banner">
  <strong>Demo Notice:</strong> This interactive tool is a simplified demonstration of an automated core interpretation workflow. 
  It uses lightweight browser‑based logic for portfolio purposes and does not represent a full geological or machine‑learning model.
</div>

function toggleInfoBox() {
  const box = document.getElementById("infoContent");
  box.style.display = box.style.display === "block" ? "none" : "block";
}
</script>

<p>
This page presents the output of the automated interpretation engine applied to core photographs 
from the Phoenix uranium deposit. Instead of showing code, this page focuses on the geological 
results, extracted features, and classification logic — the elements that matter to geologists, 
geophysicists, and project managers.
</p>


<h2>Try It Yourself – Interactive Core Interpreter</h2>

<h3> Or choose a sample core image: <span class="tooltip-icon" onclick="toggleUnitsTooltip()">ℹ️</span> </h3>

<div id="unitsTooltip" class="tooltip-box"> 
    <strong>About the Phoenix Units</strong> 
    <p><strong>Unit 1a:</strong> Clean overlying sandstone with minor desilicification.</p> 
    <p><strong>Unit 1b:</strong> Sulphide‑cemented sandstone in faulted zones.</p> 
    <p><strong>Unit 2a:</strong> Upper clay‑altered zone.</p> 
    <p><strong>Unit 2b:</strong> Friable high‑grade mineralized zone.</p> 
    <p><strong>Unit 3a:</strong> Paleoweathered basement.</p> 
    <p><strong>Unit 3b:</strong> Competent underlying basement.</p> 
</div>

<select id="sampleSelect" class="input-select">
  <option value="">-- Select a sample image --</option>

  <option value="/assets/phoenix/1aOverlyingSandstone.JPG">
    Unit 1a – Overlying Clean Sandstone
  </option>

  <option value="/assets/phoenix/1bSulphideCementedSandstone.JPG">
    Unit 1b – Sulphide‑Cemented Sandstone
  </option>

  <option value="/assets/phoenix/2aUpperClayZone.JPG">
    Unit 2a – Upper Clay‑Altered Zone
  </option>

  <option value="/assets/phoenix/2bHighGradeFriableZone.JPG">
    Unit 2b – Friable High‑Grade Zone
  </option>

  <option value="/assets/phoenix/3aPaleoweatheredBasement.JPG">
    Unit 3a – Paleoweathered Basement
  </option>

  <option value="/assets/phoenix/3bUnderlyingBasement.JPG">
    Unit 3b – Underlying Fresh Basement
  </option>
</select>


<div class="interactive-block">
  <p>Select a core image to analyze:</p>
  <input type="file" id="coreUpload" accept="image/*">

  <div id="previewContainer" style="margin-top: 20px; display:none;">
    <h3>Uploaded Image</h3>
    <img id="previewImage" style="max-width: 100%; border:1px solid #ccc; border-radius:6px;">
  </div>

  <button id="analyzeBtn" class="btn btn-primary" style="margin-top:20px;">Analyze Image</button>

  <div id="resultsContainer" style="margin-top:30px; display:none;">
    <h3>Extracted Features</h3>
    <ul id="featureList"></ul>

    <h3>Predicted Geological Unit</h3>
    <p id="predictedUnit"></p>

    <h3>Confidence</h3>
    <p id="confidence"></p>

    <h3>Interpretation Summary</h3>
    <p id="summary"></p>
  </div>
</div>


<h2>Why This Matters</h2>
<p>
This automated workflow demonstrates how geological observations can be translated into measurable 
features and reproducible interpretations. It provides a foundation for future machine learning 
models and supports consistent logging across teams.
</p>

<p>
  <a href="/projects/phoenix/" class="btn btn-primary">← Back to Core & Log Interpretation</a>
</p>


    </div>
  </main>

  <footer style="text-align: center; padding: 20px 0; color: #666;">
    <div class="footer-container">
      <p>© 2026 Pedro Alfonzo — Engineering • Geoscience • Analytics</p>
      <nav>
        <a href="/">Home</a>
        <a href="/geoscience/">Geoscience</a>
        <a href="/portfolio/">Portfolio</a>
        <a href="/projects/">Projects</a>
      </nav>
    </div>
  </footer>

</div>

<script>
// Preload images
document.getElementById("sampleSelect").addEventListener("change", function () {
  const selected = this.value;
  if (!selected) return;

  const img = document.getElementById("previewImage");
  img.src = selected;

  document.getElementById("previewContainer").style.display = "block";
});

// Preview uploaded image
document.getElementById("coreUpload").addEventListener("change", function (event) {
  const file = event.target.files[0];
  if (!file) return;

  const img = document.getElementById("previewImage");
  img.src = URL.createObjectURL(file);

  document.getElementById("previewContainer").style.display = "block";
});

// tooltip
function toggleUnitsTooltip() {
  const box = document.getElementById("unitsTooltip");
  box.style.display = box.style.display === "block" ? "none" : "block";
}

// Simple feature extraction (average color + edge estimate)
function extractFeatures(imageElement) {
  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");

  canvas.width = imageElement.width;
  canvas.height = imageElement.height;
  ctx.drawImage(imageElement, 0, 0);

  const data = ctx.getImageData(0, 0, canvas.width, canvas.height).data;

  let r = 0, g = 0, b = 0;
  let count = data.length / 4;

  for (let i = 0; i < data.length; i += 4) {
    r += data[i];
    g += data[i + 1];
    b += data[i + 2];
  }

  return {
    avgR: Math.round(r / count),
    avgG: Math.round(g / count),
    avgB: Math.round(b / count),
    texture: (Math.random() > 0.5 ? "High" : "Low"), // placeholder
    edges: (Math.random() > 0.5 ? "Elevated" : "Moderate") // placeholder
  };
}

// Mock classifier (rule-based)
function classify(features) {
  if (features.avgR > 150 && features.texture === "High") {
    return {
      unit: "Unit 2b – Friable High‑Grade Zone",
      confidence: "High",
      summary: "High texture contrast and warm tones suggest brecciation typical of Unit 2b."
    };
  }

  return {
    unit: "Unit 1a – Clean Sandstone",
    confidence: "Moderate",
    summary: "Lower contrast and lighter tones align with clean sandstone intervals."
  };
}

// Run analysis
document.getElementById("analyzeBtn").addEventListener("click", function () {
  const img = document.getElementById("previewImage");
  if (!img.src) return;

  const features = extractFeatures(img);
  const result = classify(features);

  // Display features
  const list = document.getElementById("featureList");
  list.innerHTML = `
    <li><strong>Avg R:</strong> ${features.avgR}</li>
    <li><strong>Avg G:</strong> ${features.avgG}</li>
    <li><strong>Avg B:</strong> ${features.avgB}</li>
    <li><strong>Texture Contrast:</strong> ${features.texture}</li>
    <li><strong>Edge Density:</strong> ${features.edges}</li>
  `;

  // Display classification
  document.getElementById("predictedUnit").textContent = result.unit;
  document.getElementById("confidence").textContent = result.confidence;
  document.getElementById("summary").textContent = result.summary;

  document.getElementById("resultsContainer").style.display = "block";
});
</script>

</body>
</html>
